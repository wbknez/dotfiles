# -*- mode: shell-script[zsh] -*-
#
# This function installs a Java library, given as a JAR file, into a local
# Maven repository.
#
# Arguments:
#   $1 - The JAR file to install.

if [[ ! -f $1 ]]; then
    echo "'$1' does not exist - cannot install into Maven repository."
    exit
fi

echo "Please enter the group name..."
vared -p "(1) " -c group_name

echo "Please enter the artifact name..."
vared -p "(2) " -c artifact_name

echo "Please enter the artifact version..."
vared -p "(3) " -c artifact_version

echo "Please enter the artifact type (JAR or POM)..."
vared -p "(4) " -c artifact_type

mvn install:install-file -Dfile=$1 \
                         -DgroupId=$group_name \
                         -DartifactId=$artifact_name \
                         -Dversion=$artifact_version \
                         -Dpackaging=$artifact_type
