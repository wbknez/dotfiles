# -*- R -*-
#
# Summary: Initializes all relevant user configuration options in R.

if(identical(Sys.getenv("TERM"), "rxvt-unicode-256color")) {
    require("colorout")
}

options("repos" = c(CRAN = "https://cran.cnr.berkeley.edu"))
options(continue = "... ")
options(prompt = "> ")
options(show.signif.stars = FALSE)
options(stringsAsFactors = FALSE)
options(width = 80)

## An invisible environment for system configuration.
sol.sys <- new.env()

## Fix the library path when using the Linux command line.
sol.sys$fixLibraryPath <- function(localLib) {
    os <- .Platform$OS.type
    paths <- .libPaths()
    
    if(identical(os, "unix") && !is.element(localLib, paths)) {
        .libPaths(c(localLib, paths))
    }
}

# Some simple aliases.
sol.sys$cd <- setwd
sol.sys$pwd <- getwd
sol.sys$lss <- dir
sol.sys$last <- function(x, n = 1, ...) tail(x, n = n, ...)

attach(sol.sys)

.First <- function() {
    fixLibraryPath("~/.local/share/R")
}
